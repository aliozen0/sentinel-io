# ğŸ›¡ï¸ io-Guard: Agentic FinOps Orchestrator (v4.0)

> **"GerÃ§ekÃ§ilik ile Zeka BirleÅŸti: Hibrit Operasyon DÃ¶nemi"**

**io-Guard v4.0**, io.net ekosistemi iÃ§in tasarlanmÄ±ÅŸ, **Termodinamik Fizik Motoru (DeepSim)** ve **Hibrit Yapay Zeka (Hybrid-AI)** Ã¼zerine kurulu, otonom bir FinOps yÃ¶netim platformdur.

Bu sÃ¼rÃ¼mde ("Intelligence Update"), sistem sadece hata olduÄŸunda deÄŸil, **verimlilik dÃ¼ÅŸtÃ¼ÄŸÃ¼nde de** mÃ¼dahale eden proaktif bir yapÄ±ya kavuÅŸmuÅŸtur.

---

## ğŸ§  v4.0: Hibrit Zeka & Beyin Ä°zi (Brain Trace)

ArtÄ±k ajanlarÄ±n ne dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼nÃ¼ tahmin etmenize gerek yok. **ÅeffaflÄ±k Modu** ile her kararÄ±n arkasÄ±ndaki mantÄ±ÄŸÄ± (Prompt/Response) canlÄ± izleyebilirsiniz.

| Ã–zellik | AÃ§Ä±klama |
| :--- | :--- |
| **Hybrid Watchdog** | Sadece "SÄ±cak/SoÄŸuk" demez. Her node iÃ§in **Efficiency Index (0.0 - 1.0)** hesaplar. Matematiksel tespiti, LLM muhakemesiyle birleÅŸtirir. |
| **Brain Trace** ğŸ§  | LLM'e giden komutlarÄ± ve gelen cevaplarÄ± arayÃ¼zde **"DÃ¼ÅŸÃ¼nce Balonu"** olarak gÃ¶sterir. HatalarÄ± ve kararlarÄ± ÅŸeffaflaÅŸtÄ±rÄ±r. |
| **Preemptive Failover** | Enforcer AjanÄ±, cihaz bozulmadan **Ã¶nce** mÃ¼dahale eder. Verimlilik %70'in altÄ±na dÃ¼ÅŸtÃ¼ÄŸÃ¼nde, kullanÄ±cÄ± deneyimini korumak iÃ§in "SaÄŸlÄ±klÄ± Yedek" ile "Yorgun Ä°ÅŸÃ§iyi" deÄŸiÅŸtirir. |

---

## ğŸŒªï¸ DeepSim Physics Engine & Digital Twins

Sistem, donanÄ±mlarÄ± yÃ¼zeysel deÄŸil, fiziksel parametrelerle simÃ¼le eder:

| BileÅŸen | SimÃ¼lasyon Ã–zelliÄŸi | Etki |
| :--- | :--- | :--- |
| **Efficiency (WEI)** | ğŸ“Š Weighted Efficiency Index | Clock HÄ±zÄ±, IsÄ± ve Log-Latency verilerinden oluÅŸan canlÄ± karne notu. |
| **Cooling** | â„ï¸ Thermodynamic Loop | Fan RPM, IsÄ± (Temp), SoÄŸutma Kapasitesi. |
| **Logic** | ğŸ§  Throttling | Verimlilik dÃ¼ÅŸtÃ¼ÄŸÃ¼nde (%60 altÄ±) sistem otomatik olarak "Performans KaybÄ±" alarmÄ± verir. |

---

## ğŸ¤– The Smart Agent Swarm

Ajanlar artÄ±k "Kural TabanlÄ±" deÄŸil, "Veri OdaklÄ± Karar Verici" (Data-Driven Decision Makers) konumundadÄ±r.

| Simge | Ajan | Yeni SÃ¼per GÃ¼cÃ¼ |
| :--- | :--- | :--- |
| ğŸ‘ï¸ | **Watchdog** | **Efficiency Auditor**: "SÄ±caklÄ±k normal ama Clock hÄ±zÄ± dÃ¼ÅŸÃ¼k -> Verimlilik %65. Bu kabul edilemez!" diyerek alarm verir. |
| ğŸ©º | **Diagnostician** | **Root Cause Analysis**: Sorunun kaynaÄŸÄ±nÄ± (Fan Motoru, Termal Macun, AÄŸ DarboÄŸazÄ±) teÅŸhis eder. |
| ğŸ’¸ | **Accountant** | **Real-Time Ledger**: Her aksiyonun maliyetini (Cost of Repair vs Cost of Downtime) hesaplar. |
| ğŸ›¡ï¸ | **Enforcer** | **SLA Guardian**: KullanÄ±cÄ± deneyimini (SLA) korumak iÃ§in gerekirse Ã§alÄ±ÅŸan (ama yavaÅŸ) makineyi kapatÄ±p, yedeÄŸi devreye sokar. |

---

## ğŸ”® Agentic VRAM Oracle (Pre-Flight Check)

IO.net ekosisteminde en Ã§ok karÅŸÄ±laÅŸÄ±lan "Out of Memory (OOM)" hatalarÄ±nÄ± Ã¶nlemek iÃ§in geliÅŸtirdiÄŸimiz **3 AÅŸamalÄ± Kod Denetim HattÄ±**:

1.  **ğŸ§© Code Parser Agent**: YÃ¼klenen Python eÄŸitim kodunu analiz eder (Model, Batch Size, Optimizer).
2.  **ğŸ§® VRAM Calculator**: Gerekli VRAM miktarÄ±nÄ± **GB cinsinden hesaplar**.
3.  **ğŸ’¡ Optimization Advisor**: Mevcut donanÄ±m yetersizse, *Gradient Accumulation*, *LoRA* gibi teknik tavsiyeler verir.

---

## ğŸ’» DeepSim Lab: Operasyon Merkezi

Yeni **TÃ¼rkÃ§e ArayÃ¼z** ile tam hakimiyet:

*   **CanlÄ± Verimlilik BarlarÄ±**: Her kartÄ±n performansÄ±nÄ± renkli barlarla (YeÅŸil/SarÄ±/KÄ±rmÄ±zÄ±) izleyin.
*   **Motor GÃ¼nlÃ¼ÄŸÃ¼ (Brain Trace)**: AjanlarÄ±n "Thinking..." sÃ¼reÃ§lerini okuyun.
*   **Dinamik Ã–lÃ§ekleme**: "Yeni Ã‡ekirdek Ekle" butonu ile yedek havuzunu bÃ¼yÃ¼tÃ¼n.
*   **Sabotaj Modu**: "FanÄ± Boz" diyerek ajanlarÄ±n kriz yÃ¶netimini test edin.

---

## ğŸ› ï¸ Kurulum ve Ã‡alÄ±ÅŸtÄ±rma

### Gereksinimler
*   Docker & Docker Compose
*   io.net Intelligence API Key (`IO_API_KEY`)

### HÄ±zlÄ± BaÅŸlangÄ±Ã§

1.  **Repo'yu KlonlayÄ±n:**
    ```bash
    git clone https://github.com/aliozen0/sentinel-io.git
    cd sentinel-io 
    cp .env.example .env
    ```

2.  **API AnahtarÄ±nÄ± Girin:**
    `.env` dosyasÄ±nÄ± aÃ§Ä±n ve `IO_API_KEY`'inizi yapÄ±ÅŸtÄ±rÄ±n.

3.  **Sistemi BaÅŸlatÄ±n:**
    ```bash
    docker compose up --build -d
    ```

4.  **DeepSim Lab'e BaÄŸlanÄ±n:**
    TarayÄ±cÄ±nÄ±zda [http://localhost:8501](http://localhost:8501) adresine gidin.

### ğŸ® NasÄ±l OynanÄ±r? (Demo Senaryosu)

1.  ArayÃ¼zden **"Yeni Ã‡ekirdek Ekle"** ile yedek havuza iÅŸÃ§i ekleyin.
2.  Aktif bir karta **"ğŸ”§ -> ğŸ”¥ FanÄ± Boz"** deyin.
3.  **Ä°zleyin:**
    *   KartÄ±n **Verimlilik BarÄ±** dÃ¼ÅŸmeye baÅŸlayacak.
    *   %70 altÄ±na inince bar sararacak, Watchdog **"Performans KaybÄ±"** raporlayacak.
    *   **Enforcer AjanÄ±**, kart bozulmadan Ã¶nce (Preemptive Failover) onu yedeÄŸe Ã§ekecek ve taze bir iÅŸÃ§iyi iÅŸe alacak.
    *   TÃ¼m bu sÃ¼reci **"Motor GÃ¼nlÃ¼ÄŸÃ¼"**ndeki ğŸ§  ikonlarÄ±na tÄ±klayarak okuyabilirsiniz.

---

## ğŸ—ï¸ Teknik Mimari & AltyapÄ± (Core Features)

BuzdaÄŸÄ±nÄ±n gÃ¶rÃ¼nen yÃ¼zÃ¼ arayÃ¼z olsa da, suyun altÄ±nda ÅŸu sistemler Ã§alÄ±ÅŸmaktadÄ±r:

### 1. Security Core (Proof-of-Compute) ğŸ”’
*   **HMAC-SHA256 Signatures**: Her Worker, Ã¼rettiÄŸi telemetri verisini (Latency, GPU Temp) gizli anahtarÄ± ile imzalar.
*   **Tamper-Proofing**: Watchdog ajanÄ±, imzasÄ± geÃ§ersiz veya bozuk olan paketleri "SPOOFING" olarak iÅŸaretler ve reddeder.
*   **Endpoint:** `/telemetry/secure`

### 2. Ray-Lite Orchestrator âš¡
*   **Lifecycle Management**: Node'lar sadece "AÃ§Ä±k/KapalÄ±" deÄŸildir. `IDLE` (Yedek), `ACTIVE` (Ã‡alÄ±ÅŸan), `CORDONED` (Karantina), `DRAINING` (KapatÄ±lÄ±yor) durumlarÄ± arasÄ±nda geÃ§iÅŸ yaparlar.
*   **State Manager**: TÃ¼m kÃ¼me durumu bellekte (In-Memory) tutulur ve nanosaniye hÄ±zÄ±nda yÃ¶netilir.
*   **Endpoint:** `/cluster/status`

### 3. Economy Engine (Tokenomics) ğŸ’
*   **Accountant Agent**: Sistemin CFO'sudur.
*   **Ledger**: Her milisaniyede bir "Compute Cost" hesaplar. Kesintilerde (SLA Breach) "Slashing" (Ceza) keser, baÅŸarÄ±lÄ± iÅŸlerde "Reward" (Ã–dÃ¼l) daÄŸÄ±tÄ±r.
*   **Endpoint:** `/economy/ledger`

---

## ğŸ“‚ Proje YapÄ±sÄ±

```plaintext
io-guard/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ agents/                     # Hibrit AI AjanlarÄ± (Watchdog, Enforcer...)
â”‚   â”œâ”€â”€ services/                   # State Manager & Simulation Logic
â”‚   â”œâ”€â”€ ai_client.py                # OpenAI Wrapper & Brain Trace Logging
â”‚   â”œâ”€â”€ main.py                     # API Endpoints
â”‚   â””â”€â”€ requirements.txt            
â”œâ”€â”€ frontend/                       # Streamlit Dashboard (TÃ¼rkÃ§e)
â”œâ”€â”€ workers/                        # Digital Twin Worker (worker.py)
â””â”€â”€ docker-compose.yml              # Cluster TanÄ±mÄ±
```

---

*Powered by io.net Intelligence API & OpenAI LLMs*
